{"ast":null,"code":"import axios from 'axios';\nimport decode from 'jwt-decode';\nconst instance = axios.create({\n  baseURL: \"http://178.18.250.242:1337\"\n});\ninstance.interceptors.request.use(async config => {\n  const accessToken = 'Bearer ' + localStorage.getItem('accessToken');\n\n  if (localStorage.getItem('accessToken')) {\n    config.headers.Authorization = accessToken ? accessToken : '';\n  }\n\n  return config;\n});\nexport const login = async (email, password) => await axios.post('http://178.18.250.242:1337/auth/local', {\n  identifier: email,\n  password\n});\nexport const getProducts = async () => {\n  try {\n    return await instance.get('products');\n  } catch (error) {\n    return error;\n  }\n};","map":{"version":3,"sources":["/home/invoceDF/front-end/networks/api.js"],"names":["axios","decode","instance","create","baseURL","interceptors","request","use","config","accessToken","localStorage","getItem","headers","Authorization","login","email","password","post","identifier","getProducts","get","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE;AADiB,CAAb,CAAjB;AAIAF,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,MAAOC,MAAP,IAAkB;AAChD,QAAMC,WAAW,GAAG,YAAYC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAhC;;AACA,MAAID,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAJ,EAAyC;AAErCH,IAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,GAAgCJ,WAAW,GAAGA,WAAH,GAAiB,EAA5D;AACH;;AACD,SAAOD,MAAP;AACH,CAPD;AASA,OAAO,MAAMM,KAAK,GAAG,OAAOC,KAAP,EAAcC,QAAd,KACjB,MAAMhB,KAAK,CAACiB,IAAN,CAAW,uCAAX,EAAoD;AAAEC,EAAAA,UAAU,EAAEH,KAAd;AAAqBC,EAAAA;AAArB,CAApD,CADH;AAGP,OAAO,MAAMG,WAAW,GAAG,YAAY;AACnC,MAAI;AACA,WAAO,MAAMjB,QAAQ,CAACkB,GAAT,CAAa,UAAb,CAAb;AACH,GAFD,CAEE,OAAOC,KAAP,EAAc;AACZ,WAAOA,KAAP;AACH;AACJ,CANM","sourcesContent":["import axios from 'axios';\nimport decode from 'jwt-decode'\n\nconst instance = axios.create({\n    baseURL: \"http://178.18.250.242:1337\",\n});\n\ninstance.interceptors.request.use(async (config) => {\n    const accessToken = 'Bearer ' + localStorage.getItem('accessToken');\n    if (localStorage.getItem('accessToken')) {\n\n        config.headers.Authorization = (accessToken ? accessToken : '');\n    }\n    return config;\n});\n\nexport const login = async (email, password) => (\n    await axios.post('http://178.18.250.242:1337/auth/local', { identifier: email, password })\n);\nexport const getProducts = async () => {\n    try {\n        return await instance.get('products')\n    } catch (error) {\n        return error\n    }\n}\n"]},"metadata":{},"sourceType":"module"}